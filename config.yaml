# Copyright 2023 Canonical Ltd.
# See LICENSE file for licensing details.
#

options:
  hardware-exporter-port:
    type: int
    default: 10200
    description: |
      Start the prometheus hardware exporter at "hardware-exporter-port". By default,
      it will start at port 10200.
  smartctl-exporter-port:
    type: int
    default: 10201
    description: |
      Start the prometheus smartctl exporter at "smartctl-exporter-port". By default,
      it will start at port 10201.
  dcgm-snap-channel:
    type: string
    default: "auto"
    description: |
      Valid inputs are auto, v3/stable, v3/candidate, v3/edge, v4/stable, v4/candidate, v4/edge.

      When set to auto, the charm automatically checks the installed NVIDIA driver version and
      selects the most appropriate channel. For example, with driver 580, it will install from
      v4-cuda13/stable. The charm won't block if the driver is not installed or loaded.

      The v3 channels are compatible with CUDA 10, 11, and 12; you simply choose the desired
      release risk (stable, candidate, or edge).

      The v4 channels provide more flexibility. Even if you select v4/edge, the charm still
      detects the driver version and installs the matching CUDA build. For example,
      with driver 570, it will install from v4-cuda12/edge.
  smartctl-exporter-snap-channel:
    type: string
    default: "latest/stable"
    description: |
      Channel to install the Smartctl exporter snap if the hardware has smart disk. By default, it will install
      from latest/stable.
  exporter-log-level:
    type: string
    default: "INFO"
    description: |
      Start the prometheus exporter with log level "exporter-log-level". By
      default, it will set to INFO. Allowed values are "DEBUG", "INFO",
      "WARNING", "ERROR", "CRITICAL". Values other than those will result in
      failure of the exporter.
  collect-timeout:
    type: int
    default: 10
    description: |
      Timeout for collectors' shell commands in seconds. Changing this will also change
      the scrape_timeout config option for prometheus for the cos-agent relation with
      grafana-agent.
      This value is also used for the redfish client's timeout parameter.
      The value of this timeout should not be greater than prometheus scrape_interval (which
      is 60 seconds by default), as it greater would cause the scrape_timeout to be
      greater than scrape_interval.
  redfish-username:
    type: string
    default: ""
    description: |
      BMC username to be used by the redfish collector.
  redfish-password:
    type: string
    default: ""
    description: |
      BMC password to be used by the redfish collector.
  redfish-disable:
    type: boolean
    default: true
    description: |
      By default the Redfish collector is disabled. Set this option to false to enable it.
